{% extends "base.html.j2" %}

{% block title %}Home - StoryGrab{% endblock %}

{% block content %}
  <div class="p-6 bg-gray-800/40 border border-gray-700 rounded-lg shadow-sm">
    <h1 class="text-2xl font-bold mb-2 text-white">Welcome to StoryGrab</h1>
    <p class="text-sm text-gray-300 mb-4">This is the home page for the StoryGrab web interface.</p>
    <p class="text-sm text-gray-300 mb-4">Use the navigation above to go to your <a class="text-sg-accent hover:underline" href="{{ url_for('main.dashboard') }}">dashboard</a> or <a class="text-sg-accent hover:underline" href="{{ url_for('main.settings') }}">settings</a>.</p>

    <hr class="border-gray-700 my-4" />

    <h2 class="text-lg font-semibold mb-2">Fetch books by username</h2>
    <form id="get-books-form" class="flex flex-wrap items-center gap-2" role="search">
      <div style="min-width:280px;" class="flex-1">
        <label for="username-input" class="sr-only">Username</label>
        <input id="username-input" class="w-full rounded-md bg-gray-900 border border-gray-700 px-3 py-2 text-gray-200" placeholder="Enter StoryGraph username" aria-label="username" />
      </div>
      <div>
        <button id="get-books-btn" type="submit" class="inline-flex items-center px-4 py-2 bg-sg-accent text-white rounded-md hover:bg-sg-accent-2">Get books</button>
      </div>
    </form>

    <div id="get-books-results" class="mt-4"></div>
    <div id="get-books-meta" class="mt-3 text-sm text-gray-400 flex items-center gap-3">
      <div id="get-books-updated"></div>
      <button id="refresh-books-btn" class="hidden inline-flex items-center px-3 py-1 bg-gray-800 text-gray-200 rounded-md hover:bg-gray-700">Refresh</button>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='get_books_widget.js') }}"></script>
{% endblock %}
